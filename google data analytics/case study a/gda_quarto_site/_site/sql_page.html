<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Suhas. P. K">

<title>GDA Project - Cyclist Bike Share 2020 Data Analysis - SQL</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/cookie-consent/cookie-consent.js"></script>
<link href="site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"interstitial",
  "consent_type":"express",
  "palette":"dark",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"english"
  });
});
</script> 
  
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">GDA Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./project_details.html"> 
<span class="menu-text">Project_details</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./sql_page.html" aria-current="page"> 
<span class="menu-text">SQL</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./r_page.html"> 
<span class="menu-text">R</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./dashboard_page.html"> 
<span class="menu-text">Dashboards</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
    <a href="https://github.com/SuhasPK" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Cyclist Bike Share 2020 Data Analysis - SQL</h1>
<p class="subtitle lead">Google data Analytics Professional Certificate Capstone Project</p>
</div>



<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Suhas. P. K </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>For the Google Data Analytics capstone project, data processing and basic analysis were performed on a publicly available bikeshare dataset. Although spreadsheet tools like Google Sheets are commonly recommended for basic cleaning, I opted to utilize SQL for both data processing and analysis. My choice of database management system was MySQL, and I used MySQL Workbench as the graphical interface for querying the database.</p>
<p>This document outlines the steps taken to load, clean, and analyze the bikeshare data using SQL, with sample queries provided throughout. The SQL commands used to process the data and the corresponding output are presented in the form of query results and images.</p>
<hr>
<section id="mysql-database-setup" class="level3">
<h3 class="anchored" data-anchor-id="mysql-database-setup">MySQL Database Setup</h3>
<p>The dataset used in this analysis was first stored in a MySQL database server. I created a schema called gda to hold the tables necessary for this project.</p>
<ol type="1">
<li><p>Database Server: MySQL</p></li>
<li><p>Text Editor: MySQL Workbench</p></li>
<li><p>Schema: <code>gda</code></p></li>
<li><p>Table: <code>bikeshare2020</code></p></li>
</ol>
<p>The dataset was imported into a table named bikeshare20202. This table contains key attributes such as <code>ride_id</code>, <code>rideable_type</code>, <code>started_at</code>, <code>ended_at</code>, <code>start_station_name</code>, <code>end_station_name</code>, <code>start_lat</code>, <code>start_lng</code>, <code>end_lat</code>, <code>end_lng</code>, and <code>member_casual</code>.</p>
<hr>
<section id="to-check-the-data-type" class="level4">
<h4 class="anchored" data-anchor-id="to-check-the-data-type">To check the data type</h4>
<pre><code>/* Check the data type */
DESCRIBE gda.bikeshare2020;</code></pre>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Field</th>
<th>Type</th>
<th>Null</th>
<th>Key</th>
<th>Default</th>
<th>Extra</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ride_id</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>rideable_type</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>started_at</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>ended_at</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>start_station_name</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>start_station_id</code></td>
<td>int</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>end_station_name</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>end_station_id</code></td>
<td>int</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>start_lat</code></td>
<td>double</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>start_lng</code></td>
<td>double</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>end_lat</code></td>
<td>double</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>end_lng</code></td>
<td>double</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>member_casual</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="to-inspect-the-data" class="level4">
<h4 class="anchored" data-anchor-id="to-inspect-the-data">To inspect the data</h4>
<pre><code>SELECT * FROM gda.bikeshare2020;</code></pre>
<hr>
</section>
<section id="to-check-the-total-number-of-rows" class="level4">
<h4 class="anchored" data-anchor-id="to-check-the-total-number-of-rows">To check the total number of rows</h4>
<pre><code>SELECT COUNT(*) FROM gda.bikeshare2020;</code></pre>
<hr>
</section>
<section id="to-check-for-the-null-values" class="level4">
<h4 class="anchored" data-anchor-id="to-check-for-the-null-values">To check for the NULL values</h4>
<pre><code>SELECT 
    COUNT(*) AS total_rows,
    SUM( CASE WHEN started_at IS NULL THEN 1 ELSE 0 END) AS started_at_nulls,
    SUM( CASE WHEN ended_at IS NULL THEN 1 ELSE 0 END) AS ended_at_nulls,
    SUM( CASE WHEN member_casual IS NULL THEN 1 ELSE 0 END) AS member_casual_nulls
FROM gda.bikeshare2020;</code></pre>
<hr>
</section>
<section id="change-the-data-type-of-started_at-ended_at-to-datetime" class="level4">
<h4 class="anchored" data-anchor-id="change-the-data-type-of-started_at-ended_at-to-datetime">Change the data type of <code>started_at</code> &amp; <code>ended_at</code> to <code>DATETIME</code></h4>
<pre><code>ALTER TABLE gda.bikeshare2020 
MODIFY COLUMN started_at DATETIME,
MODIFY COLUMN ended_at DATETIME;</code></pre>
<p>In workbench, the above query would throw error id: 1292 (‘Incorrect datetime value’). To change the datetime format use,</p>
<pre><code>/* testing the conversion */
SELECT 
    started_at, 
    STR_TO_DATE(started_at, '%d-%m-%Y %H:%i') AS converted_start 
FROM gda.bikeshare2020 
LIMIT 10;</code></pre>
<p>To update the whole table, turn off the <code>safe_update_mode</code> in the workbench, or use this query format,</p>
<pre><code>ET SQL_SAFE_UPDATES = 0; /* turns off the safe_update_mode*/
UPDATE gda.bikeshare2020
SET started_at = STR_TO_DATE(started_at, '%d-%m-%Y %H:%i'),
    ended_at = STR_TO_DATE(ended_at, '%d-%m-%Y %H:%i')
WHERE ride_id IS NOT NULL;
SET SQL_SAFE_UPDATES = 1; /* turns on the safe_update_mode*/</code></pre>
<p>To modify the data type,</p>
<pre><code>ALTER TABLE gda.bikeshare2020 
MODIFY COLUMN started_at DATETIME,
MODIFY COLUMN ended_at DATETIME;</code></pre>
<p>Now, check the data types.</p>
<pre><code>DESCRIBE gda.bikeshare2020;</code></pre>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Field</th>
<th>Type</th>
<th>Null</th>
<th>Key</th>
<th>Default</th>
<th>Extra</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ride_id</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>rideable_type</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>started_at</code></td>
<td>datetime</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>ended_at</code></td>
<td>datetime</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>start_station_name</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>start_station_id</code></td>
<td>int</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>end_station_name</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>end_station_id</code></td>
<td>int</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>start_lat</code></td>
<td>double</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>start_lng</code></td>
<td>double</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>end_lat</code></td>
<td>double</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="even">
<td><code>end_lng</code></td>
<td>double</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
<tr class="odd">
<td><code>member_casual</code></td>
<td>text</td>
<td>Yes</td>
<td></td>
<td>Null</td>
<td></td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="handling-null-data" class="level4">
<h4 class="anchored" data-anchor-id="handling-null-data">Handling NULL data</h4>
<pre><code>SET SQL_SAFE_UPDATES = 0;
DELETE FROM gda.bikeshare2020 
WHERE started_at IS NULL OR ended_at IS NULL OR member_casual IS NULL;
SET SQL_SAFE_UPDATES = 1;</code></pre>
<hr>
</section>
<section id="adding-more-features" class="level4">
<h4 class="anchored" data-anchor-id="adding-more-features">Adding more features</h4>
<p>To find the <code>trip_duration</code></p>
<pre><code>ALTER TABLE gda.bikeshare2020 ADD COLUMN trip_duration INT;
SET SQL_SAFE_UPDATES = 0;
UPDATE gda.bikeshare2020 
SET trip_duration = TIMESTAMPDIFF(MINUTE, started_at, ended_at);
SET SQL_SAFE_UPDATES = 0;
SELECT * FROM gda.bikeshare2020 LIMIT 10;</code></pre>
<p>To find the <code>day_of_week</code></p>
<pre><code>ALTER TABLE gda.bikeshare2020 ADD COLUMN day_of_week VARCHAR(10);
SET SQL_SAFE_UPDATES = 0;
UPDATE gda.bikeshare2020 
SET day_of_week = DAYNAME(started_at);
SET SQL_SAFE_UPDATES = 1;
SELECT * FROM gda.bikeshare2020 LIMIT 10;</code></pre>
<hr>
</section>
</section>
<section id="basic-queries" class="level3">
<h3 class="anchored" data-anchor-id="basic-queries">Basic Queries</h3>
<section id="to-check-the-data" class="level4">
<h4 class="anchored" data-anchor-id="to-check-the-data">To check the data</h4>
<pre><code>SELECT * FROM gda.bikeshare2020 LIMIT 10;</code></pre>
<hr>
</section>
<section id="to-find-the-average-trip-based-on-the-member_causal" class="level4">
<h4 class="anchored" data-anchor-id="to-find-the-average-trip-based-on-the-member_causal">To find the average trip based on the <code>member_causal</code></h4>
<pre><code>SELECT member_casual, AVG(trip_duration) AS avg_trip_duration
FROM gda.bikeshare2020
GROUP BY member_casual;</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/bikeshare images/average trip duration.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="to-find-the-day_of_week" class="level4">
<h4 class="anchored" data-anchor-id="to-find-the-day_of_week">To find the <code>day_of_week</code></h4>
<pre><code>SELECT member_casual, day_of_week, COUNT(*) AS rides_count
FROM gda.bikeshare2020
GROUP BY member_casual, day_of_week
ORDER BY member_casual, rides_count DESC;</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/bikeshare images/week of the day.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="to-find-the-hour_of_day" class="level4">
<h4 class="anchored" data-anchor-id="to-find-the-hour_of_day">To find the <code>hour_of_day</code></h4>
<pre><code>SELECT member_casual, HOUR(started_at) AS hour_of_day, COUNT(*) AS ride_count
FROM gda.bikeshare2020
GROUP BY member_casual, hour_of_day
ORDER BY member_casual, hour_of_day;</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/bikeshare images/hour of the day.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="trip-duration-table" class="level4">
<h4 class="anchored" data-anchor-id="trip-duration-table">Trip duration table</h4>
<pre><code>
SELECT member_casual, 
       CASE 
           WHEN trip_duration &lt;= 10 THEN '&lt;= 10 min'
           WHEN trip_duration BETWEEN 11 AND 20 THEN '11-20 min'
           WHEN trip_duration BETWEEN 21 AND 30 THEN '21-30 min'
           WHEN trip_duration BETWEEN 31 AND 60 THEN '31-60 min'
           ELSE '&gt; 60 min'
       END AS duration_range, 
       COUNT(*) AS ride_count
FROM gda.bikeshare2020
GROUP BY member_casual, duration_range
ORDER BY member_casual, duration_range;</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/bikeshare images/duration range.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="popular-start_station_name" class="level4">
<h4 class="anchored" data-anchor-id="popular-start_station_name">Popular <code>start_station_name</code></h4>
<pre><code>SELECT member_casual, start_station_name, COUNT(*) AS ride_count
FROM gda.bikeshare2020
GROUP BY member_casual, start_station_name
ORDER BY ride_count DESC
LIMIT 10;</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/bikeshare images/popular start station name.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="popular-end_station_name" class="level4">
<h4 class="anchored" data-anchor-id="popular-end_station_name">Popular <code>end_station_name</code></h4>
<pre><code>SELECT member_casual, end_station_name, COUNT(*) AS ride_count
FROM gda.bikeshare2020
GROUP BY member_casual, end_station_name
ORDER BY ride_count DESC
LIMIT 10;</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/bikeshare images/popular end station name.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="to-calculate-the-distance-travelled-in-kilometers" class="level4">
<h4 class="anchored" data-anchor-id="to-calculate-the-distance-travelled-in-kilometers">To calculate the distance travelled (in kilometers)</h4>
<pre><code>SELECT ride_id, 
    member_casual,
    111.111 * DEGREES(ACOS(COS(RADIANS(start_lat))
                 * COS(RADIANS(end_lat))
                 * COS(RADIANS(start_lng) - RADIANS(end_lng))
                 + SIN(RADIANS(start_lat))
                 * SIN(RADIANS(end_lat)))) AS distance_km
FROM gda.bikeshare2020;</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/bikeshare images/distance travelled in km.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="to-calculate-the-average-distance-travelled-in-kilometers" class="level4">
<h4 class="anchored" data-anchor-id="to-calculate-the-average-distance-travelled-in-kilometers">To calculate the average distance travelled (in kilometers)</h4>
<pre><code>SELECT member_casual, AVG(distance_km) AS avg_distance_km
FROM (SELECT ride_id, 
             member_casual,
             111.111 * DEGREES(ACOS(COS(RADIANS(start_lat))
                          * COS(RADIANS(end_lat))
                          * COS(RADIANS(start_lng) - RADIANS(end_lng))
                          + SIN(RADIANS(start_lat))
                          * SIN(RADIANS(end_lat)))) AS distance_km
      FROM gda.bikeshare2020) AS distances
GROUP BY member_casual;</code></pre>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/bikeshare images/avg distance travelled.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<hr>
<p>Based on the above queries I can understand the a fair bit of information on how the casual riders and annual members tend to use the cyclist bike share.</p>
<p>For further analysis, I will use <code>R</code> to get more insight and informative visualizations.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 © Suhas. P. K. 2024 
  </li>  
</ul>
    <div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>